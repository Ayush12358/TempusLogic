Syntax checker (alternative solution with difference lists)